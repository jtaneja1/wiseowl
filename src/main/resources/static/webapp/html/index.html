<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  	<meta http-equiv="cache-control" content="max-age=0" />
  	<meta http-equiv="cache-control" content="no-cache" />
  	<meta http-equiv="expires" content="0" />
  	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  	<meta http-equiv="pragma" content="no-cache" />
	<link rel="icon" href="../image/wiseowl.ico">
    <title>WiseOwl Booklog</title>

    <!-- Bootstrap CSS followed by our CSS-->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
   <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
   <link rel="stylesheet" href="../css/wiseowl.css">   

   	
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->   
  </head>
  
  
  <body ng-app="app">
  
  <!-- HEADER BEGIN-->
    <nav class="navbar navbar-default navbar-fixed-top"> 
        <div class="container">
            <div class="navbar-header">
	            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
		            <span class="sr-only">Toggle navigation</span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
	          	</button>
                <img src="../image/wiseowl3.jpg" height="50px"/>
            </div>
            <div id="navbar" class="navbar-collapse collapse" aria-expanded="true">
                <ul class="nav navbar-nav"><!-- Header links on the left -->
            		<li class="active"><a href="#/home">Home</a></li>

            		<li class="dropdown"><!-- TTD: For each li, change font so that they appear slightly different than the main links -->
              			<a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Actions <span class="caret"></span></a>
              				<ul class="dropdown-menu">
				                <li><a href="#/addcomp">Add Completed Book</a></li>
				                <li role="separator" class="divider"></li>
				                <li><a href="#/addforlat">Add ForLater Book</a></li>
				                <li role="separator" class="divider"></li>
				                <li><a href="#/compbooks">View All Completed Books</a></li>
				                <li role="separator" class="divider"></li>
				                <li><a href="#/forlaterbooks">View All ForLater Books</a></li>
              				</ul>
            		</li>            
            
            		<li><a href="#about">About</a></li>
            		<li><a href="#contact">Contact</a></li>
          		</ul>
          		
          		<ul class="nav navbar-nav navbar-right"> <!-- The user object which the header uses to display nickname is retrieved by the homeController but is NOT set in $scope object. It is set in $rootScope since index.html shell html does not have access to home.html $scope -->
		            <li class="dropdown">
		            	<a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{user.nickname}} <span class="caret"></span></a>	
		           			<ul class="dropdown-menu">
		           				<li><a href="" id="logoutLink">Signout</a></li>
		           				<li><a href="#/geteditprofile">Update Profile</a></li>
		           			</ul>
		            </li>
<!-- 		            <li class="active"><a href="./">Static top <span class="sr-only">(current)</span></a></li> -->
<!-- 		            <li><a href="../navbar-fixed-top/">Fixed top</a></li> -->
          		</ul>
            </div>
        </div>
    </nav>
   <!-- HEADER END-->
   
    
    <div class="container"> <!-- CONTENT -->
<!--     	<div id="leftNav"></div> -->
        <div ng-view></div>
    </div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.js"></script>
  	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular-route.js"></script><!-- Angular route is a separate module and makes navigation easier within an angular app -->
  	<script src="../js/app.js"></script>
  	<script src="../js/home.js"></script>
  	<script src="../js/addcomp.js"></script>
  	<script src="../js/compbooks.js"></script>
  	<script src="../js/editbook.js"></script>
  	<script src="../js/editprofile.js"></script>
  	<script src="../js/addforlater.js"></script>
  	<script src="../js/forlaterbooks.js"></script>
  	<script src="../js/editforlaterbook.js"></script>
  	<script>
        $(function(){
            $("#logoutLink").click(function(){
                $.get("/user/logout")
                    .done(function( data ) {
                       console.log('Logout successful. Redirecting to login page');
                       window.location.href = "Login.html";
                    })
                    .fail(function( jqxhr, textStatus, error ) {
                        var err = textStatus + ", " + error;
                        console.log( "Logout Failed: " + err );
                    });
            });
        });
	</script>
  </body>
</html>